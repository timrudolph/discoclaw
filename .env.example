# ============================================================
# Discoclaw — Environment Configuration
# ============================================================
# Copy this file to .env and fill in the two REQUIRED values.
# Everything else has sensible defaults — uncomment to override.
# ============================================================

# ----------------------------------------------------------
# REQUIRED — the bot won't start without these
# ----------------------------------------------------------

# Your Discord bot token (from https://discord.com/developers/applications)
DISCORD_TOKEN=

# Comma-separated Discord user IDs allowed to talk to the bot.
# Empty = nobody can use it (fail-closed).
DISCORD_ALLOW_USER_IDS=

# ----------------------------------------------------------
# CORE — most users will want to review these
# ----------------------------------------------------------

# Where the Claude CLI runs (its working directory).
# Default: ./workspace (or $DISCOCLAW_DATA_DIR/workspace if DATA_DIR is set)
#WORKSPACE_CWD=

# Which Claude model to use.
#RUNTIME_MODEL=opus

# Output format for the Claude CLI. stream-json gives smoother streaming.
#CLAUDE_OUTPUT_FORMAT=stream-json

# Allow Claude to run without permission prompts. This is what makes
# headless/Discord operation possible — the Discord allowlist above
# is the security boundary instead.
#CLAUDE_DANGEROUSLY_SKIP_PERMISSIONS=1

# Log level: trace | debug | info | warn | error | fatal
#LOG_LEVEL=info

# ============================================================
# OPTIONAL FEATURES — uncomment sections you need
# ============================================================

# ----------------------------------------------------------
# Channel restrictions
# ----------------------------------------------------------
# Restrict the bot to specific guild channel IDs (comma/space-separated).
# DMs are still allowed. For threads, allowlist the parent channel ID.
#DISCORD_CHANNEL_IDS=
# Require a channel-context file to exist before responding in a channel.
#DISCORD_REQUIRE_CHANNEL_CONTEXT=1
# Auto-create channel context scaffold on first message in a new channel.
#DISCORD_AUTO_INDEX_CHANNEL_CONTEXT=1
# Auto-join threads so the bot can respond inside them.
# Note: private threads still require manually adding the bot.
#DISCORD_AUTO_JOIN_THREADS=0

# ----------------------------------------------------------
# Discord actions (let Claude manage your server)
# ----------------------------------------------------------
# Master switch — must be 1 for any action category to work.
#DISCOCLAW_DISCORD_ACTIONS=0
# Per-category flags (only active when master switch is 1):
#DISCOCLAW_DISCORD_ACTIONS_CHANNELS=1
#DISCOCLAW_DISCORD_ACTIONS_MESSAGING=0
#DISCOCLAW_DISCORD_ACTIONS_GUILD=0
#DISCOCLAW_DISCORD_ACTIONS_MODERATION=0
#DISCOCLAW_DISCORD_ACTIONS_POLLS=0
#DISCOCLAW_DISCORD_ACTIONS_BEADS=0

# ----------------------------------------------------------
# Memory & summaries
# ----------------------------------------------------------
# Rolling AI-generated summaries of past conversations.
#DISCOCLAW_SUMMARY_ENABLED=1
#DISCOCLAW_SUMMARY_MODEL=haiku
#DISCOCLAW_SUMMARY_MAX_CHARS=2000
#DISCOCLAW_SUMMARY_EVERY_N_TURNS=5
# Durable per-user facts/preferences (manual via !memory commands).
#DISCOCLAW_DURABLE_MEMORY_ENABLED=1
#DISCOCLAW_DURABLE_INJECT_MAX_CHARS=2000
#DISCOCLAW_DURABLE_MAX_ITEMS=200
#DISCOCLAW_MEMORY_COMMANDS_ENABLED=1
# Character budget for recent conversation history in prompts (0 = disabled).
#DISCOCLAW_MESSAGE_HISTORY_BUDGET=3000

# ----------------------------------------------------------
# Cron (forum-based scheduled tasks)
# ----------------------------------------------------------
#DISCOCLAW_CRON_ENABLED=0
#DISCOCLAW_CRON_FORUM=
#DISCOCLAW_CRON_MODEL=haiku
# Enable cron Discord actions (CRUD via Discord action blocks).
#DISCOCLAW_DISCORD_ACTIONS_CRONS=0
# Persistent stats directory (run counts, last run time, status).
#DISCOCLAW_CRON_STATS_DIR=
# AI auto-tagging for cron purpose + model tier (off until tags bootstrapped).
#DISCOCLAW_CRON_AUTO_TAG=0
#DISCOCLAW_CRON_AUTO_TAG_MODEL=haiku
# Runtime tag-map file (seeded from scripts/cron/cron-tag-map.json on first boot).
#DISCOCLAW_CRON_TAG_MAP=

# ----------------------------------------------------------
# Beads (task tracking with Discord forum thread sync)
# ----------------------------------------------------------
#DISCOCLAW_BEADS_ENABLED=0
#BD_BIN=bd
#DISCOCLAW_BEADS_CWD=
#DISCOCLAW_BEADS_FORUM=
# Guild ID to target when the bot is in multiple Discord servers (used for System channel bootstrap).
# Also used by optional beads shell wrappers (scripts/beads/*) that delegate to Node/TS CLIs outside the running bot.
#DISCORD_GUILD_ID=
#DISCOCLAW_BEADS_TAG_MAP=
#DISCOCLAW_BEADS_MENTION_USER=
#DISCOCLAW_BEADS_AUTO_TAG=1
#DISCOCLAW_BEADS_AUTO_TAG_MODEL=haiku

# ----------------------------------------------------------
# Status & observability
# ----------------------------------------------------------
# Channel name or ID to post status embeds (bot online/offline, errors).
#DISCOCLAW_STATUS_CHANNEL=

# ----------------------------------------------------------
# Advanced / debug
# ----------------------------------------------------------
# Data root — if set, workspace defaults to $DISCOCLAW_DATA_DIR/workspace.
#DISCOCLAW_DATA_DIR=
# Content directory override.
#DISCOCLAW_CONTENT_DIR=
# Enable per-session runtime isolation.
#DISCOCLAW_RUNTIME_SESSIONS=1
# Path to claude CLI binary (if not on $PATH).
#CLAUDE_BIN=claude
# Forward Claude CLI stderr to Discord (useful for debugging).
#CLAUDE_ECHO_STDIO=0
# Write Claude CLI debug logs to this file.
#CLAUDE_DEBUG_FILE=
# Skip slow MCP plugin init in headless/systemd contexts.
#CLAUDE_STRICT_MCP_CONFIG=1
# Dump resolved runtime config at startup.
#DISCOCLAW_DEBUG_RUNTIME=0
# Per-group working directories.
#GROUPS_DIR=
#USE_GROUP_DIR_CWD=0
# Tools available to the runtime.
#RUNTIME_TOOLS=Bash,Read,Edit,WebSearch,WebFetch
# Global cap on parallel runtime invocations across all Discord sessions (0 = unlimited).
#DISCOCLAW_MAX_CONCURRENT_INVOCATIONS=3
# Timeout for runtime invocations (ms).
#RUNTIME_TIMEOUT_MS=600000

# ----------------------------------------------------------
# Browser automation (agent-browser)
# ----------------------------------------------------------
# Chromium path for agent-browser. Only needed if the bundled browser
# (from `agent-browser install`) doesn't work.
#AGENT_BROWSER_EXECUTABLE_PATH=/usr/bin/chromium-browser
