# Discord
DISCORD_TOKEN=
DISCORD_ALLOW_USER_IDS=
# Optional: restrict the bot to specific guild channel IDs (comma/space-separated).
# DMs are still allowed. For threads, allowlisting the parent channel ID is sufficient.
DISCORD_CHANNEL_IDS=
DISCORD_REQUIRE_CHANNEL_CONTEXT=1
DISCORD_AUTO_INDEX_CHANNEL_CONTEXT=1
# Best-effort: auto-join threads so the bot can respond inside them.
# Note: private threads still require adding the bot to the thread.
DISCORD_AUTO_JOIN_THREADS=0
# Allow Claude to perform Discord server actions (channel create/list).
# Requires the bot to have Manage Channels permission in the server.
DISCOCLAW_DISCORD_ACTIONS=0

# Claude CLI
CLAUDE_BIN=claude
CLAUDE_DANGEROUSLY_SKIP_PERMISSIONS=1
# Prefer stream-json for smoother streaming + future tool/usage events.
# If your local `claude` CLI doesn't support it, switch back to `text`.
CLAUDE_OUTPUT_FORMAT=stream-json
# If 1, forward Claude CLI stderr lines into Discord output (useful for debugging auth/network issues).
CLAUDE_ECHO_STDIO=0
# Optional: write Claude CLI debug logs to this file (keep local; do not commit).
CLAUDE_DEBUG_FILE=
# Pass --strict-mcp-config to skip slow MCP plugin init in headless/systemd contexts.
# Default: 1 (enabled). Set to 0 to allow lazy MCP plugin init.
CLAUDE_STRICT_MCP_CONFIG=1

# App
# Optional data root. If set, the default workspace becomes:
#   $DISCOCLAW_DATA_DIR/workspace
# This is a good place to point at a Dropbox-backed folder on your machine.
DISCOCLAW_DATA_DIR=
DISCOCLAW_CONTENT_DIR=
DISCOCLAW_RUNTIME_SESSIONS=1
# Character budget for recent conversation history in prompts (0 = disabled).
# Higher values give more context but use more tokens.
DISCOCLAW_MESSAGE_HISTORY_BUDGET=3000

# Conversation summaries — rolling Haiku-generated memory of past conversations.
DISCOCLAW_SUMMARY_ENABLED=1
DISCOCLAW_SUMMARY_MODEL=haiku
# Max chars for the summary text (Haiku will compress to fit).
DISCOCLAW_SUMMARY_MAX_CHARS=2000
# Re-summarize every N messages per session.
DISCOCLAW_SUMMARY_EVERY_N_TURNS=5

# Durable memory — persistent per-user facts/preferences (manual via !memory commands).
DISCOCLAW_DURABLE_MEMORY_ENABLED=1
DISCOCLAW_DURABLE_INJECT_MAX_CHARS=2000
DISCOCLAW_DURABLE_MAX_ITEMS=200
DISCOCLAW_MEMORY_COMMANDS_ENABLED=1

# Where the runtime should run (Claude CLI cwd). If unset, Discoclaw defaults to:
#   $DISCOCLAW_DATA_DIR/workspace   (when DISCOCLAW_DATA_DIR is set)
#   ./workspace                    (relative to this repo) otherwise
WORKSPACE_CWD=
GROUPS_DIR=
USE_GROUP_DIR_CWD=0
LOG_LEVEL=info
# Dump resolved runtime config at startup (for debugging systemd env issues).
DISCOCLAW_DEBUG_RUNTIME=0

# Runtime invocation (currently Claude Code CLI)
RUNTIME_MODEL=opus
RUNTIME_TOOLS=Bash,Read,Edit,WebSearch,WebFetch
RUNTIME_TIMEOUT_MS=600000
